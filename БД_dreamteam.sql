CREATE DATABASE DreamTeam
ON (NAME=DreamTeam_dat, 
FILENAME='D:\DB\DreamTeam.mdf')
LOG ON (NAME=DreamTeam_Log,
FILENAME='D:\DB\DreamTeam.ldf')


use DreamTeam
CREATE TABLE Країни
(id int NOT NULL,
Назва nchar(30) NOT NULL,
ЧасПольоту nchar(30),
ПочатокЛітньогоСезону nchar(30),
КінецьЛітньогоСезону nchar(30),
ПочатокЗимовогоСезону nchar(30),
КінецьЗимовогоСезону nchar(30),
Валюта nchar(30),
АльтернативнаВалюта nchar(30),
Віза nchar(30),
Столиця nchar(30),
Мова nchar(30)
constraint prim_Країна primary key (id))

USE DreamTeam
ALTER TABLE  Країни
ADD CONSTRAINT unique_столиця UNIQUE (Столиця)

use DreamTeam
alter table Країни
add constraint check_віза CHECK (Віза in ('+','-'))

use DreamTeam
INSERT INTO Країни
VALUES ('1','США','9','Травень','Вересень','Грудень','Лютий','Долар', NULL,'+','Олбані','англійська'),
('2','Італія','2','Червень','Вересень','Грудень','Березень','Євро', NULL,'-','Рим','iталiйська'),
('3','Туреччина','2','Червень','Серпень','Грудень','Березень','Лiра','Долар','-','Анкара','турецька'),
('4','Таїланд','11','Листопад','Грудень','-','-','Бат','Долар','+','Бангкок','тайська'),
('5','Франція', '2,50','Червень','Серпень','Грудень','Березень','Євро',	NULL,'-','Париж','французька'),
('6','Iндія','8','Листопад','Травень','Грудень','Березень','Рупiя','Долар','+','Нью-Делi','гiнда/англ'),
('7','Австралія','18','Грудень','Лютий','Червень','Серпень','Австралiйський долар','Долар',	'+','Канберра','англійська'),
('8','ПАР','9','Жовтень','Лютий','Червень','Серпень','Ранд','Долар','+','Кейптаун',	'англійська'),
('9','Мальдіви','13','Весь рiк','Весь рiк','-','-','Руфiя','Долар','+','Мале','мальдiвська'),
('10','Балі','16','Травень','Серпень','-','-','Рупiй','iндонезiйський	Долар','+','Денпасар','iндонезiйська'),
('11','Хорватія','1,5','Травень','Серпень','Грудень','Квiтень','Куна','Євро','-','Загреб','хорватська'),
('12','Португалія','5','Квiтень','Жовтень','Грудень','Сiчень','Євро', NULL,'-',	'Лiсабон','португальська'),
('13','Iспанія','4','Червень','Вересень','Грудень','Березень','Євро', NULL,'-','Мадрид','iспанська'), 
('14','Барбадос','12','Вересень','Травень','-','-','Барбадоський долар','Долар','+','Бриджтаун','англійська'),
('15','Домініканська республіка','12','Листопад','Березень','-','-','Домініканський песо','Євро','+','Санто-Домінго','іспанська'),
('16','Куба','12','Травень','Серпень','-','-','Кубинський песо','Євро','+','Гавана','іспанська'),
('17','Мадейра','6','Весь рiк','Весь рiк','-','-','Євро', NULL, '+','Фуншал','португальська'),
('18','Багами','12','Листопад','Травень','-','-','Багамський долар','Долар',	'+','Нассау','англійська'),
('19','Мальта','3','Травень','Серпень','-','-','Євро', NULL,	'+','Валета','мальтійська/англ'),
('20','Аргентина','18','Грудень','Лютий','Червень','Серпень','Аргентинське песо','Євро','+','Буенос-Айрес','іспанська')

alter table Країни
drop column Мова


CREATE TABLE Візи
(id int NOT NULL,
Назва nchar(30) NOT NULL,
Ціна INT NOT NULL,
ЧасВиготовлення nchar(30),
Країни_id int NOT NULL
CONSTRAINT prim_віза PRIMARY KEY (id)
CONSTRAINT foreign_віза_країна FOREIGN KEY (Країни_id)
REFERENCES Країни (id))

USE DreamTeam
alter table Візи
alter column Ціна int not null 

USE DreamTeam
ALTER TABLE Візи
ADD СпосібОтримання nchar(30)


alter table Візи
drop CONSTRAINT foreign_віза_країна


USE DreamTeam
INSERT INTO Візи(id,Назва, Ціна, ЧасВиготовлення, СпосібОтримання, Країни_id)
VALUES
('1','Національна','150','7-30днів','У Консульстві','1'),
('2','Шенген','65','7-30днів','У Консульстві','2'),
('3','По  прибуттю','35','2-10хвилин','В країні','3'),
('4','По  прибуттю','60', '2-10хвилин', 'В країні','4'),
('5','Шенген','100','7-10днів','У Консульстві','5'),
('6','По  прибуттю','55','2-10хвилин','В країні','6'),
('7','Національна','135','14-30днів','У Консульстві','7'),
('8','Національна','35','14-30днів','У Консульстві','8'),
('9','По  прибуттю','65','2-10хвилин','В країні','9'),
('10','По  прибуттю','65','2-10хвилин','В країні','10'),
('11','Національна','36','3-7днів','У Консульстві','11'),
('12','Шенген','35','7-30днів','У Консульстві','12'),
('13','Шенген','35','7-30днів','У Консульстві','13'),
('14','Національна','45','7-30днів','У Консульстві','14'),
('15','Шенген','90','3-7днів','У Консульстві','15'),
('16','По  прибуттю','60','2-10хвилин','В країні','16'),
('17','По  прибуттю','65','2-10хвилин','В країні','17'),
('18','По  прибуттю','60','2-10хвилин','В країні','18'),
('19','Шенген','35','7-10днів','У Консульстві','19'),
('20','Національна','120','7-10днів','У Консульстві','20')


use DreamTeam
create table ВізиКраїни
(id_Країни int not null,
id_Візи int not null
CONSTRAINT foreign_візакраїни_країна FOREIGN KEY (id_Країни)
REFERENCES Країни (id))

alter table ВізиКраїни
add CONSTRAINT foreign_віза_країна FOREIGN KEY (id_Візи)
REFERENCES Візи (id)

INSERT INTO ВізиКраїни
VALUES
('1','1'),
('2','2'),
('3','3'),
('4','4'),
('5','5'),
('6','6' ),
('7','7'),
('8','8'),
('9','9'),
('10','10'),
('11','11'),
('12','12'),
('13','13'),
('14','14'),
('15','15'),
('16','16'),
('17','17'),
('18','18'),
('19','19'),
('20','20')


