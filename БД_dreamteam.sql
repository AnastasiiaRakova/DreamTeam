CREATE DATABASE DreamTeam
ON (NAME=DreamTeam_dat, 
FILENAME='D:\DB\DreamTeam.mdf')
LOG ON (NAME=DreamTeam_Log,
FILENAME='D:\DB\DreamTeam.ldf')


use DreamTeam
CREATE TABLE Країни
(id int NOT NULL,
Назва nchar(30) NOT NULL,
ЧасПольоту nchar(30),
ПочатокЛітньогоСезону nchar(30),
КінецьЛітньогоСезону nchar(30),
ПочатокЗимовогоСезону nchar(30),
КінецьЗимовогоСезону nchar(30),
Валюта nchar(30),
АльтернативнаВалюта nchar(30),
Віза nchar(30),
Столиця nchar(30),
Мова nchar(30)
constraint prim_Країна primary key (id))

USE DreamTeam
ALTER TABLE  Країни
ADD CONSTRAINT unique_столиця UNIQUE (Столиця)

use DreamTeam
alter table Країни
add constraint check_віза CHECK (Віза in ('+','-'))

use DreamTeam
INSERT INTO Країни
VALUES ('1','США','9','Травень','Вересень','Грудень','Лютий','Долар', NULL,'+','Олбані','англійська'),
('2','Італія','2','Червень','Вересень','Грудень','Березень','Євро', NULL,'-','Рим','iталiйська'),
('3','Туреччина','2','Червень','Серпень','Грудень','Березень','Лiра','Долар','-','Анкара','турецька'),
('4','Таїланд','11','Листопад','Грудень','-','-','Бат','Долар','+','Бангкок','тайська'),
('5','Франція', '2,50','Червень','Серпень','Грудень','Березень','Євро',	NULL,'-','Париж','французька'),
('6','Iндія','8','Листопад','Травень','Грудень','Березень','Рупiя','Долар','+','Нью-Делi','гiнда/англ'),
('7','Австралія','18','Грудень','Лютий','Червень','Серпень','Австралiйський долар','Долар',	'+','Канберра','англійська'),
('8','ПАР','9','Жовтень','Лютий','Червень','Серпень','Ранд','Долар','+','Кейптаун',	'англійська'),
('9','Мальдіви','13','Весь рiк','Весь рiк','-','-','Руфiя','Долар','+','Мале','мальдiвська'),
('10','Балі','16','Травень','Серпень','-','-','Рупiй','iндонезiйський	Долар','+','Денпасар','iндонезiйська'),
('11','Хорватія','1,5','Травень','Серпень','Грудень','Квiтень','Куна','Євро','-','Загреб','хорватська'),
('12','Португалія','5','Квiтень','Жовтень','Грудень','Сiчень','Євро', NULL,'-',	'Лiсабон','португальська'),
('13','Iспанія','4','Червень','Вересень','Грудень','Березень','Євро', NULL,'-','Мадрид','iспанська'), 
('14','Барбадос','12','Вересень','Травень','-','-','Барбадоський долар','Долар','+','Бриджтаун','англійська'),
('15','Домініканська республіка','12','Листопад','Березень','-','-','Домініканський песо','Євро','+','Санто-Домінго','іспанська'),
('16','Куба','12','Травень','Серпень','-','-','Кубинський песо','Євро','+','Гавана','іспанська'),
('17','Мадейра','6','Весь рiк','Весь рiк','-','-','Євро', NULL, '+','Фуншал','португальська'),
('18','Багами','12','Листопад','Травень','-','-','Багамський долар','Долар',	'+','Нассау','англійська'),
('19','Мальта','3','Травень','Серпень','-','-','Євро', NULL,	'+','Валета','мальтійська/англ'),
('20','Аргентина','18','Грудень','Лютий','Червень','Серпень','Аргентинське песо','Євро','+','Буенос-Айрес','іспанська')

alter table Країни
drop column Мова


CREATE TABLE Візи
(id int NOT NULL,
Назва nchar(30) NOT NULL,
Ціна INT NOT NULL,
ЧасВиготовлення nchar(30),
Країни_id int NOT NULL
CONSTRAINT prim_віза PRIMARY KEY (id)
CONSTRAINT foreign_віза_країна FOREIGN KEY (Країни_id)
REFERENCES Країни (id))

USE DreamTeam
alter table Візи
alter column Ціна int not null 

USE DreamTeam
ALTER TABLE Візи
ADD СпосібОтримання nchar(30)


alter table Візи
drop CONSTRAINT foreign_віза_країна


USE DreamTeam
INSERT INTO Візи(id,Назва, Ціна, ЧасВиготовлення, СпосібОтримання, Країни_id)
VALUES
('1','Національна','150','7-30днів','У Консульстві','1'),
('2','Шенген','65','7-30днів','У Консульстві','2'),
('3','По  прибуттю','35','2-10хвилин','В країні','3'),
('4','По  прибуттю','60', '2-10хвилин', 'В країні','4'),
('5','Шенген','100','7-10днів','У Консульстві','5'),
('6','По  прибуттю','55','2-10хвилин','В країні','6'),
('7','Національна','135','14-30днів','У Консульстві','7'),
('8','Національна','35','14-30днів','У Консульстві','8'),
('9','По  прибуттю','65','2-10хвилин','В країні','9'),
('10','По  прибуттю','65','2-10хвилин','В країні','10'),
('11','Національна','36','3-7днів','У Консульстві','11'),
('12','Шенген','35','7-30днів','У Консульстві','12'),
('13','Шенген','35','7-30днів','У Консульстві','13'),
('14','Національна','45','7-30днів','У Консульстві','14'),
('15','Шенген','90','3-7днів','У Консульстві','15'),
('16','По  прибуттю','60','2-10хвилин','В країні','16'),
('17','По  прибуттю','65','2-10хвилин','В країні','17'),
('18','По  прибуттю','60','2-10хвилин','В країні','18'),
('19','Шенген','35','7-10днів','У Консульстві','19'),
('20','Національна','120','7-10днів','У Консульстві','20')


use DreamTeam
create table ВізиКраїни
(id_Країни int not null,
id_Візи int not null
CONSTRAINT foreign_візакраїни_країна FOREIGN KEY (id_Країни)
REFERENCES Країни (id))

alter table ВізиКраїни
add CONSTRAINT foreign_віза_країна FOREIGN KEY (id_Візи)
REFERENCES Візи (id)

INSERT INTO ВізиКраїни
VALUES
('1','1'),
('2','2'),
('3','3'),
('4','4'),
('5','5'),
('6','6' ),
('7','7'),
('8','8'),
('9','9'),
('10','10'),
('11','11'),
('12','12'),
('13','13'),
('14','14'),
('15','15'),
('16','16'),
('17','17'),
('18','18'),
('19','19'),
('20','20')


use DreamTeam
CREATE TABLE Свята
(Країна_id int NOT NULL,
Назва nchar(30) NOT NULL,
Дата NVARCHAR (10),
Опис nchar(300) NOT NULL,
CONSTRAINT prim_свято PRIMARY KEY (Країна_id))

use DreamTeam
alter table Свята
add constraint foreign_країна_свято foreign key (Країна_id)
references Країни (id)

alter table Свята
drop constraint foreign_країна_свято

alter table Свята
drop CONSTRAINT prim_свято

alter table Свята
add id_Свята int  

alter table Свята
DROP COLUMN id_Свята 

alter table Свята
add id_Свята int NOT NULL

alter table Свята
ADD CONSTRAINT prim_свято PRIMARY KEY (id_Свята)

alter table Свята
drop CONSTRAINT prim_свято

alter table Свята
drop column id_Свята 


alter table Свята
add id int NOT NULL

alter table Свята
ADD CONSTRAINT prim_свято PRIMARY KEY (id)


use DreamTeam
insert into  Свята
values
('1','День подяки','27.11','традиційне північноамериканське свято, засноване з метою віддати дяку Богові за жнива та за одержані блага протягом року','1'),
('2','Феррагостро','24.08','релігійне свято, відоме як день жатви або завершення великих польових робіт','2'),
('3','Рамядян', '15.06' , 'релігійне мусульманське свято, символізує закінчення посту','3'),
('4','Фестиваль повітряних зміїв', '10.03', 'народне свято, яке проводилось під патронатом монахів як вид спорту','4'),
('5','День взяття Бастилії', '14.07', 'французьке національне свято, відзначається феєрверками по всій країні та військовим парадом в Парижі','5'),
('6','Холі' , '13.03',  'фестиваль та найбарвистіше свято Індії','6'),
('7','День Австралії','26.01','Національне свято. У цей день у 1788 р. в Сіднейській бухті висадилась перша партія англійських переселенців','7'),
('8','День незалежності' , '27.04' , 'державне свято','8'),
('9','День незалежності' , '26.07','державне свято','9'),
('10','Свято Драхми', '31.03', 'Свято галунган символізує перемогу сили добра над силами зла і невігластва. Це один з найважливіших свят для балійців, свято на честь творця всесвіту і духів предків','10'),
('11','Богоявлення' , '6.01' , 'релігійне свято, подія під час хрещення Ісуса Христа в ріці Йордан, у якій Христос об"являє себе людям як Месію і Спасителя','11'),
('12','Страсна пятниця' , '22.04' , 'релігійне свято, день розпяття Христа','12'),
('13','Памплони' ,'14.07' , 'свято не для людей вразливих і слабкодухих, оскільки це знамениті перегони биків – Санфермінес','13'),
('14','День різвяних подарунків' , '26.12' , 'державне свято у Барбадосі','14'),
('15','День незалежності' , '27.02' , 'державне свято','15'),
('16','День незалежності Куби' , '10.10' , 'У цей день Карлос Мануель Сеспедес в 1868 році дарував свободу рабам і очолив повстання проти іспанців','16'),
('17','Різдво' , '25.07' , 'релігійне свято,у християнстві день народження Ісуса Христа, Господа Нашого і Спасителя, у Вифлиємі від Діви Марії','17'),
('18','День святого духа' , '16.05' , 'релігійне свято','18'),
('19','Новий рік' , '1.01' , '1-й день року в григоріанському календарі. До кінця року залишається 364 дні (365 днів — у високосні роки)','19'),
('20','Новий рік' , '1.01' , '1-й день року в григоріанському календарі. До кінця року залишається 364 дні (365 днів — у високосні роки)','20')


use DreamTeam
create table СвятоКраїни
(id_Країни int not null,
id_Свята int not null
CONSTRAINT foreign_святокраїни_країна FOREIGN KEY (id_Країни)
REFERENCES Країни (id))

alter table СвятоКраїни
add CONSTRAINT foreign_свято FOREIGN KEY (id_Свята)
REFERENCES Свята (id)


INSERT INTO СвятоКраїни
VALUES
('1','1'),
('2','2'),
('3','3'),
('4','4'),
('5','5'),
('6','6' ),
('7','7'),
('8','8'),
('9','9'),
('10','10'),
('11','11'),
('12','12'),
('13','13'),
('14','14'),
('15','15'),
('16','16'),
('17','17'),
('18','18'),
('19','19'),
('20','20')



CREATE TABLE Мови
(Країна_id int NOT NULL,
Назва nchar(30) NOT NULL
CONSTRAINT prim_мови PRIMARY KEY (Країна_id)
CONSTRAINT foreign_мови_країна FOREIGN KEY (Країна_id)
REFERENCES Країни (id))

USE DreamTeam
INSERT INTO Мови
VALUES ('1','Англійська'),
('2','Італійська'),
('3','Турецька'),
('4','Тайська'),
('5','Французька'),
('6','Гiнда'),
('7','Англійська'),
('8','Англійська'),
('9','Мальдiвська'),
('10','Індонезiйська'),
('11','Хорватська'),
('12','Португальська'),
('13','Іспанська'),
('14','Англійська'),
('15','Іспанська'),
('16','Іспанська'),
('17','Португальська'),
('18','Англійська'),
('19','Мальтійська'),
('20','Іспанська')